<?xml version="1.0" encoding="UTF-8"?>
<PhysiCell_settings version="devel-version">
  <domain>
    <x_min>-150</x_min>
    <x_max>150</x_max>
    <y_min>-150</y_min>
    <y_max>150</y_max>
    <z_min>-10</z_min>
    <z_max>10</z_max>
    <dx>20</dx>
    <dy>20</dy>
    <dz>20</dz>
    <use_2D>true</use_2D>
  </domain>
  <overall>
    <max_time units="min">20</max_time>
    <time_units>min</time_units>
    <space_units>micron</space_units>
    <dt_diffusion units="min">0.01</dt_diffusion>
    <dt_mechanics units="min">0.1</dt_mechanics>
    <dt_phenotype units="min">6</dt_phenotype>
  </overall>
  <parallel>
    <omp_num_threads>1</omp_num_threads>
  </parallel>
  <save>
    <folder>output</folder> <!-- use . for root -->
    <full_data>
      <interval units="min">10</interval>
      <enable>true</enable>
    </full_data>
    <SVG>
      <interval units="min">10</interval>
      <enable>true</enable>
    </SVG>
    <legacy_data>
      <enable>false</enable>
    </legacy_data>
  </save>
  <microenvironment_setup>
    <variable name="oxygen" units="dimensionless" ID="0">
      <physical_parameter_set>
	<diffusion_coefficient units="micron^2/min">0</diffusion_coefficient>
	<decay_rate units="1/min">0</decay_rate>
      </physical_parameter_set>
      <initial_condition units="mmHg">38</initial_condition>
      <Dirichlet_boundary_condition units="mmHg" enabled="true">38</Dirichlet_boundary_condition>
    </variable>
    <variable name="glucose" units="dimensionless" ID="1">
      <physical_parameter_set>
	<diffusion_coefficient units="micron^2/min">0</diffusion_coefficient>
	<decay_rate units="1/min">0</decay_rate>
      </physical_parameter_set>
      <initial_condition units="mmHg">13</initial_condition>
      <Dirichlet_boundary_condition units="mmHg" enabled="false">13</Dirichlet_boundary_condition>
    </variable>
    <options>
      <calculate_gradients>false</calculate_gradients>
      <track_internalized_substrates_in_each_agent>true</track_internalized_substrates_in_each_agent>
    </options>
  </microenvironment_setup>
  <user_parameters>
    <random_seed type="int" units="dimensionless">0</random_seed>
    <persistence_time type="double" >1.0</persistence_time>
    <migration_speed type="double" units="dimensionless">20.0</migration_speed>
    <migration_bias type="double" units="dimensionless">1.0</migration_bias>
  </user_parameters>
  <!-- https://github.com/MathCancer/PhysiCell/wiki/XML-based-Cell-Definitions -->
  <cell_definitions>
    <cell_definition name="default" ID="0">
      <phenotype>
	<cycle code="6" name="flow_cytometry_separated_cycle_model">
	  <!-- using higher than normal significant digits to match divisions in default code -->
	  <phase_transition_rates units="1/min">
	    <!-- G0/G1 to S -->
	    <rate start_index="0" end_index="1" fixed_duration="false">0.00334672</rate>
	    <!-- S to G2 -->
	    <rate start_index="1" end_index="2" fixed_duration="true">0.00208333</rate>
	    <!-- G2 to M -->
	    <rate start_index="2" end_index="3" fixed_duration="true">0.00416667</rate>
	    <!-- M to G0/G1 -->
	    <rate start_index="3" end_index="0" fixed_duration="true">0.0166667</rate>
	  </phase_transition_rates>
	</cycle>
	<death>
	  <model code="100" name="apoptosis">
	    <death_rate units="1/min">5.31667e-05</death_rate>
	    <phase_transition_rates units="1/min">
	      <rate start_index="0" end_index="1" fixed_duration="true">0.00193798</rate>
	    </phase_transition_rates>
	    <parameters>
	      <unlysed_fluid_change_rate units="1/min">0.05</unlysed_fluid_change_rate>
	      <lysed_fluid_change_rate units="1/min">0</lysed_fluid_change_rate>
	      <cytoplasmic_biomass_change_rate units="1/min">1.66667e-02</cytoplasmic_biomass_change_rate>
	      <nuclear_biomass_change_rate units="1/min">5.83333e-03</nuclear_biomass_change_rate>
	      <calcification_rate units="1/min">0</calcification_rate>
	      <relative_rupture_volume units="dimensionless">2.0</relative_rupture_volume>
	    </parameters>
	  </model>
	  <model code="101" name="necrosis">
	    <death_rate units="1/min">0.0</death_rate>
	    <phase_transition_rates units="1/min">
	      <rate start_index="0" end_index="1" fixed_duration="false">9e9</rate>
	      <rate start_index="1" end_index="2" fixed_duration="true">1.15741e-5</rate>
	    </phase_transition_rates>
	    <parameters>
	      <unlysed_fluid_change_rate units="1/min">0.05</unlysed_fluid_change_rate>
	      <lysed_fluid_change_rate units="1/min">0</lysed_fluid_change_rate>
	      <cytoplasmic_biomass_change_rate units="1/min">1.66667e-02</cytoplasmic_biomass_change_rate>
	      <nuclear_biomass_change_rate units="1/min">5.83333e-03</nuclear_biomass_change_rate>
	      <calcification_rate units="1/min">0</calcification_rate>
	      <relative_rupture_volume units="dimensionless">2.0</relative_rupture_volume>
	    </parameters>
	  </model>
	</death>
	<volume>
	  <total units="micron^3">2494</total>
	  <fluid_fraction units="dimensionless">0.75</fluid_fraction>
	  <nuclear units="micron^3">540</nuclear>
	  <fluid_change_rate units="1/min">0.05</fluid_change_rate>
	  <cytoplasmic_biomass_change_rate units="1/min">0.0045</cytoplasmic_biomass_change_rate>
	  <nuclear_biomass_change_rate units="1/min">0.0055</nuclear_biomass_change_rate>
	  <calcified_fraction units="dimensionless">0</calcified_fraction>
	  <calcification_rate units="1/min">0</calcification_rate>
	  <relative_rupture_volume units="dimensionless">2.0</relative_rupture_volume>
	</volume>
	<mechanics>
	  <cell_cell_adhesion_strength units="micron/min">0.4</cell_cell_adhesion_strength>
	  <cell_cell_repulsion_strength units="micron/min">10.0</cell_cell_repulsion_strength>
	  <relative_maximum_adhesion_distance units="dimensionless">1.25</relative_maximum_adhesion_distance>
	  <options>
	    <set_relative_equilibrium_distance enabled="false" units="dimensionless">1.8</set_relative_equilibrium_distance>
	    <set_absolute_equilibrium_distance enabled="false" units="micron">15.12</set_absolute_equilibrium_distance>
	  </options>
	</mechanics>
	<motility>
	  <speed units="micron/min">1</speed>
	  <persistence_time units="min">1</persistence_time>
	  <migration_bias units="dimensionless">.5</migration_bias>
	  <options>
	    <enabled>false</enabled>
	    <use_2D>true</use_2D>
	  </options>
	</motility>
	<secretion/>
	<molecular/>
      </phenotype>
      <custom_data>
	<relative_sated_volume units="dimensionless">1.5</relative_sated_volume>
      </custom_data>
    </cell_definition>
    <!-- ====================================================  -->
    <cell_definition name="celltype1" parent_type="default" ID="1">
      <phenotype>
	<cycle>
	  <phase_transition_rates>
	    <rate start_index="0" end_index="1">0.0</rate>
	  </phase_transition_rates>
	</cycle>
	<death>
	  <model code="100" name="apoptosis">
	    <death_rate units="1/min">0</death_rate>
	  </model>
	</death>
	<motility>
	  <speed>10.</speed>
	  <migration_bias>0.5</migration_bias>
	  <options>
	    <enabled>true</enabled>
	    <use_2D>true</use_2D>
	  </options>
	</motility>
	<secretion/>
	<molecular type="sbml">
	  <filename>./config/Toy_SBML_Model_1.xml</filename>
	  <map1 custom_data="energy" sbml_species="Energy"></map1>
	</molecular>
      </phenotype>
      <custom_data>
	<energy units="dimensionless">0.0</energy>
      </custom_data>
    </cell_definition>
    <!-- ====================================================  -->
    <cell_definition name="celltype2" parent_type="default" ID="2">
      <phenotype>
	<cycle>
	  <phase_transition_rates>
	    <rate start_index="0" end_index="1">0.0</rate>
	  </phase_transition_rates>
	</cycle>
	<death>
	  <model code="100" name="apoptosis">
	    <rate units="1/min">0</rate>
	  </model>
	</death>
	<motility>
	  <speed>0.1</speed>
	  <migration_bias>1.0</migration_bias>
	  <options>
	    <enabled>true</enabled>
	    <use_2D>true</use_2D>
	  </options>
	</motility>
	<secretion/>
	<molecular type="sbml">
	  <filename>./config/Toy_SBML_Model_2.xml</filename>
	  <map1 custom_data="energy" sbml_species="Energy"></map1>
	</molecular>
      </phenotype>
      <custom_data>
	<energy units="dimensionless">0.0</energy>
      </custom_data>
    </cell_definition>
  </cell_definitions>
</PhysiCell_settings>
